
delete from manages where m_sin = 1;
delete from employee where hotel_id = 1;
delete from room where hotel_id =1;
delete from hotel where hotel_id =1;

select * from room;


update hotel set contact_emails = array['123123','12333333'] where hotel_id = 1;

address - done
hotel chains - done
hotels - done
room - 

46 = address_id for employees.


create table address(

	address_id int not null,
	street varchar(150),
	city varchar(100),
	country varchar(100),
	primary key(address_id)
);

create table hotel_chain (

	chain_id int not null,
	address_id int not null,
	num_hotels int,
	contact_emails varchar(300),
	contact_numbers varchar(10),
	
	primary key(chain_id),
	FOREIGN KEY(address_id) REFERENCES address(address_id)
	
);


create table hotel (

	hotel_id int not null,
	chain_id int not null,
	address_id int not null,
	contact_emails varchar(300),
	contact_numbers varchar(10),
	num_rooms int,
	rating int,
	
	primary key(hotel_id),
	foreign key(chain_id) references hotel_chain(chain_id),
	foreign key(address_id) references address(address_id)
);

alter table hotel add constraint check_rating check (rating in (1,2,3,4,5));


create table room (

	room_id int not null,
	hotel_id int not null,
	price int,
	capacity varchar(50),
	room_view varchar(80),
	amenities varchar(80),
	can_be_extended varchar(3),
	room_quality varchar(80),
	
	constraint check_room check ((capacity in ('single','double','queen','king','2 doubles','2 queens','2 kings')) and 
								 (room_view in ('mountain','park','city','river','ocean','square')) and
								 (amenities in ('fridge','microwave','oven','stove','sink','coffee machine','tv','internet')) and
								 (can_be_extended in ('yes','no')) and
								 (room_quality in ('very poor','poor','fair','good','excellent','very good'))),
	
	primary key(room_id),
	foreign key(hotel_id) references hotel(hotel_id)
	
);

create table amenities (

	room_id int,
	amen_name varchar(80),
	
	primary key (room_id),
	foreign key (room_id) references room(room_id)
	
);
//current
create table amenities(

	amen_id serial primary key,
	room_id int not null references room (room_id),
	amenity varchar(80)
	

);



create table employee (

	sin int not null,
	hotel_id int not null,
	full_name varchar(100),
	address_id int,
	em_position varchar(100),
	
	primary key(sin),
	foreign key(hotel_id) references hotel(hotel_id),
	foreign key(address_id) references address(address_id)
);

create table customer (

	sin int not null,
	full_name varchar(100),
	address_id int,
	registration_date varchar(15),
	
	primary key(sin),
	foreign key(address_id) references address(address_id)
	
);

create table booking (

	c_sin int not null,
	room_id int not null,
	start_date varchar(15),
	end_date varchar(15),
	primary key(c_sin),
	foreign key(c_sin) references customer(sin) on delete cascade
	
);

create table renting (

	c_sin int not null,
	e_sin int not null,
	room_id int not null,
	start_date varchar(15),
	end_date varchar(15),
	primary key(c_sin),
	foreign key(c_sin) references customer(sin) on delete cascade,
	foreign key(e_sin) references employee(sin) on delete cascade
	
);

create table manages (

	m_sin int not null,
	e_sin int not null,
	
	foreign key(m_sin) references employee(sin) on delete cascade,
	foreign key(e_sin) references employee(sin) on delete cascade
);




insert into address values (1,'123 Rideau Street','Ottawa','Canada');
insert into address values (2,'4 Fifth Ave','New York', 'America');
insert into address values (3,'9 Gofer Ave','Chicago', 'America');
insert into address values (4,'12 Rainy Lane', 'Vancouver', 'Canada');
insert into address values (5,'3456 OVO Lane', 'Toronto', 'Canada');
insert into address values (6,'1 John Way', 'Atlanta', 'America');
insert into address values (7,'3 Locke Street', 'Hamilton', 'Canada');
insert into address values (8,'3 Red Wing Place', 'Detroit', 'America'); 
insert into address values (9,'123 Spark Street','Ottawa','Canada');
insert into address values (10,'12345 Seventh Ave','New York', 'America');
insert into address values (11,'2 chic lane','Chicago', 'America');
insert into address values (12,'3 Mountain Drive', 'Vancouver', 'Canada');
insert into address values (13,'34 Weazy Place', 'Toronto', 'Canada');
insert into address values (14,'2 Mark Drive', 'Atlanta', 'America');
insert into address values (15,'4 Norton way', 'Hamilton', 'Canada');
insert into address values (16,'45 Lions Drive', 'Detroit', 'America');
insert into address values (17,'12 Range Road','Ottawa','Canada');
insert into address values (18,'56743 New York Lane','New York', 'America');
insert into address values (19,'3 Grape Lane','Chicago', 'America');
insert into address values (20,'123 Overhang Street', 'Vancouver', 'Canada');
insert into address values (21,'778 TTC Drive', 'Toronto', 'Canada');
insert into address values (22,'3 Matt Street', 'Atlanta', 'America');
insert into address values (23,'345 Coolio Street', 'Hamilton', 'Canada');
insert into address values (24,'8 Mile Road', 'Detroit', 'America');
insert into address values (25,'234 Albert street','Ottawa','Canada');
insert into address values (26,'454545 King Street','New York', 'America');
insert into address values (27,'34 Waddle Drive','Chicago', 'America');
insert into address values (28,'3453676 Snowy Street', 'Vancouver', 'Canada');
insert into address values (29,'1231 ACC Street', 'Toronto', 'Canada');
insert into address values (30,'4 Mark Drive', 'Atlanta', 'America');
insert into address values (31,'12312 Hammy Street', 'Hamilton', 'Canada');
insert into address values (32,'2323 MnM Street', 'Detroit', 'America');
insert into address values (33,'9008 Elgin street','Ottawa','Canada');
insert into address values (34,'90623 Queens Ave','New York', 'America');
insert into address values (35,'666 Devil Drive','Chicago', 'America');
insert into address values (36,'97822 Windy Ave', 'Vancouver', 'Canada');
insert into address values (37,'666 Drake Drive', 'Toronto', 'Canada');
insert into address values (38,'5 Joe Street', 'Atlanta', 'America');
insert into address values (39,'67676 GTA Street', 'Hamilton', 'Canada');
insert into address values (40,'50 Cent Way', 'Detroit', 'America');
insert into address values (41,'1 Chain Way', 'Maryland', 'America');
insert into address values (42,'2 Chain Way', 'Maryland', 'America');
insert into address values (43,'3 Chain Way', 'Maryland', 'America');
insert into address values (44,'4 Chain Way', 'Maryland', 'America');
insert into address values (45,'5 Chain Way', 'Maryland', 'America');
insert into address values (46,'employee street address', 'employ', 'America');
insert into address values (46,'employee street address', 'employ', 'America');




insert into hotel_chain values(1,41,0,'contact@email.com' ,'1235678909','Westin');
insert into hotel_chain values(2,42,0,'contact@email.com' ,'1235678909','Radison');
insert into hotel_chain values(3,43,0,'contact@email.com' ,'1235678909','Best Northern');
insert into hotel_chain values(4,44,0,'contact@email.com' ,'1235678909','Holiday Inn');
insert into hotel_chain values(5,45,0,'contact@email.com' ,'1235678909','Comfort Zone');

insert into hotel values (1,1,1,'contact@email.com' ,'1235678909',0,1);
insert into hotel values (2,1,2,'contact@email.com' ,'1235678909',0,1);
insert into hotel values (3,1,3,'contact@email.com' ,'1235678909',0,1);
insert into hotel values (4,1,4,'contact@email.com' ,'1235678909',0,1);
insert into hotel values (5,1,5,'contact@email.com' ,'1235678909',0,4);
insert into hotel values (6,1,6,'contact@email.com' ,'1235678909',0,4);
insert into hotel values (7,1,7,'contact@email.com' ,'1235678909',0,2);
insert into hotel values (8,1,8,'contact@email.com' ,'1235678909',0,2);
insert into hotel values (9,2,9,'contact@email.com' ,'1235678909',0,4);
insert into hotel values (10,2,10,'contact@email.com' ,'1235678909',0,1);
insert into hotel values (11,2,11,'contact@email.com' ,'1235678909',0,2);
insert into hotel values (12,2,12,'contact@email.com' ,'1235678909',0,5);
insert into hotel values (13,2,13,'contact@email.com' ,'1235678909',0,1);
insert into hotel values (14,2,14,'contact@email.com' ,'1235678909',0,4);
insert into hotel values (15,2,15,'contact@email.com' ,'1235678909',0,2);
insert into hotel values (16,2,16,'contact@email.com' ,'1235678909',0,5);
insert into hotel values (17,3,17,'contact@email.com' ,'1235678909',0,2);
insert into hotel values (18,3,18,'contact@email.com' ,'1235678909',0,3);
insert into hotel values (19,3,19,'contact@email.com' ,'1235678909',0,5);
insert into hotel values (20,3,20,'contact@email.com' ,'1235678909',0,3);
insert into hotel values (21,3,21,'contact@email.com' ,'1235678909',0,5);
insert into hotel values (22,3,22,'contact@email.com' ,'1235678909',0,5);
insert into hotel values (23,3,23,'contact@email.com' ,'1235678909',0,4);
insert into hotel values (24,3,24,'contact@email.com' ,'1235678909',0,1);
insert into hotel values (25,4,25,'contact@email.com' ,'1235678909',0,3);
insert into hotel values (26,4,26,'contact@email.com' ,'1235678909',0,2);
insert into hotel values (27,4,27,'contact@email.com' ,'1235678909',0,2);
insert into hotel values (28,4,28,'contact@email.com' ,'1235678909',0,2);
insert into hotel values (29,4,29,'contact@email.com' ,'1235678909',0,2);
insert into hotel values (30,4,30,'contact@email.com' ,'1235678909',0,3);
insert into hotel values (31,4,31,'contact@email.com' ,'1235678909',0,5);
insert into hotel values (32,4,32,'contact@email.com' ,'1235678909',0,4);
insert into hotel values (33,5,33,'contact@email.com' ,'1235678909',0,4);
insert into hotel values (34,5,34,'contact@email.com' ,'1235678909',0,4);
insert into hotel values (35,5,35,'contact@email.com' ,'1235678909',0,3);
insert into hotel values (36,5,36,'contact@email.com' ,'1235678909',0,5);
insert into hotel values (37,5,37,'contact@email.com' ,'1235678909',0,4);
insert into hotel values (38,5,38,'contact@email.com' ,'1235678909',0,1);
insert into hotel values (39,5,39,'contact@email.com' ,'1235678909',0,4);
insert into hotel values (40,5,40,'contact@email.com' ,'1235678909',0,3);

update hotel set hotel_name = 'westin Ottawa' where hotel_id =1;
update hotel set hotel_name = 'westin New York' where hotel_id =2;
update hotel set hotel_name = 'westin Chicago' where hotel_id =3;
update hotel set hotel_name = 'westin Vancouver' where hotel_id =4;
update hotel set hotel_name = 'westin Toronto' where hotel_id =5;
update hotel set hotel_name = 'westin Atlanta' where hotel_id =6;
update hotel set hotel_name = 'westin Hamilton' where hotel_id =7;
update hotel set hotel_name = 'westin Detroit' where hotel_id =8;
update hotel set hotel_name = 'radison Ottawa' where hotel_id =9;
update hotel set hotel_name = 'radison New York' where hotel_id =10;
update hotel set hotel_name = 'radison Chicago' where hotel_id =11;
update hotel set hotel_name = 'radison Vancouver' where hotel_id =12;
update hotel set hotel_name = 'radison Toronto' where hotel_id =13;
update hotel set hotel_name = 'radison Atlanta' where hotel_id =14;
update hotel set hotel_name = 'radison Hamilton' where hotel_id =15;
update hotel set hotel_name = 'radison Detroit' where hotel_id =16;
update hotel set hotel_name = 'Best Northern Ottawa' where hotel_id =17;
update hotel set hotel_name = 'Best Northern New York' where hotel_id =18;
update hotel set hotel_name = 'Best Northern Chicago' where hotel_id =19;
update hotel set hotel_name = 'Best Northern Vancouver' where hotel_id =20;
update hotel set hotel_name = 'Best Northern Toronto' where hotel_id =21;
update hotel set hotel_name = 'Best Northern Atlanta' where hotel_id =22;
update hotel set hotel_name = 'Best Northern Hamilton' where hotel_id =23;
update hotel set hotel_name = 'Best Northern Detroit' where hotel_id =24;
update hotel set hotel_name = 'Holiday Inn Ottawa' where hotel_id =25;
update hotel set hotel_name = 'Holiday Inn New York' where hotel_id =26;
update hotel set hotel_name = 'Holiday Inn Chicago' where hotel_id =27;
update hotel set hotel_name = 'Holiday Inn Vancouver' where hotel_id =28;
update hotel set hotel_name = 'Holiday Inn Toronto' where hotel_id =29;
update hotel set hotel_name = 'Holiday Inn Atlanta' where hotel_id =30;
update hotel set hotel_name = 'Holiday Inn Hamilton' where hotel_id =31;
update hotel set hotel_name = 'Holiday Inn Detroit' where hotel_id =32;
update hotel set hotel_name = 'Comfort Zone Ottawa' where hotel_id =33;
update hotel set hotel_name = 'Comfort Zone New York' where hotel_id =34;
update hotel set hotel_name = 'Comfort Zone Chicago' where hotel_id =35;
update hotel set hotel_name = 'Comfort Zone Vancouver' where hotel_id =36;
update hotel set hotel_name = 'Comfort Zone Toronto' where hotel_id =37;
update hotel set hotel_name = 'Comfort Zone Atlanta' where hotel_id =38;
update hotel set hotel_name = 'Comfort Zone Hamilton' where hotel_id =39;
update hotel set hotel_name = 'Comfort Zone Detroit' where hotel_id =40;

insert into room values (1,1,102,'2 singles','mountain','no','very good');
insert into room values (2,1,151,'single','square','no','excellent');
insert into room values (3,1,157,'king','city','no','fair');
insert into room values (4,1,172,'2 singles','mountain','yes','fair');
insert into room values (5,1,186,'2 queens','river','no','fair');
insert into room values (6,2,140,'2 kings','city','no','very good');
insert into room values (7,2,112,'single','square','no','fair');
insert into room values (8,2,173,'2 queens','ocean','no','fair');
insert into room values (9,2,185,'2 queens','square','yes','fair');
insert into room values (10,2,188,'king','ocean','yes','fair');
insert into room values (11,3,132,'double','mountain','no','poor');
insert into room values (12,3,109,'2 doubles','square','yes','very good');
insert into room values (13,3,100,'2 doubles','ocean','no','fair');
insert into room values (14,3,105,'2 queens','mountain','no','very poor');
insert into room values (15,3,144,'2 kings','ocean','yes','excellent');
insert into room values (16,4,146,'2 singles','park','yes','excellent');
insert into room values (17,4,109,'single','river','yes','good');
insert into room values (18,4,154,'2 doubles','city','no','fair');
insert into room values (19,4,193,'2 kings','park','yes','excellent');
insert into room values (20,4,131,'2 kings','mountain','no','poor');
insert into room values (21,5,188,'2 kings','park','no','very poor');
insert into room values (22,5,175,'2 queens','square','yes','fair');
insert into room values (23,5,151,'king','square','no','fair');
insert into room values (24,5,190,'king','ocean','yes','poor');
insert into room values (25,5,178,'single','square','yes','very poor');
insert into room values (26,6,107,'2 doubles','river','no','fair');
insert into room values (27,6,183,'2 doubles','city','no','poor');
insert into room values (28,6,188,'2 kings','city','no','fair');
insert into room values (29,6,141,'queen','ocean','no','excellent');
insert into room values (30,6,143,'queen','river','yes','very good');
insert into room values (31,7,107,'2 singles','city','yes','very good');
insert into room values (32,7,127,'2 kings','ocean','yes','poor');
insert into room values (33,7,173,'2 queens','mountain','no','very poor');
insert into room values (34,7,106,'double','square','yes','excellent');
insert into room values (35,7,183,'2 queens','mountain','yes','very good');
insert into room values (36,8,161,'2 doubles','ocean','yes','fair');
insert into room values (37,8,186,'double','river','no','excellent');
insert into room values (38,8,137,'2 kings','square','yes','very good');
insert into room values (39,8,190,'king','square','no','good');
insert into room values (40,8,172,'queen','park','no','fair');
insert into room values (41,9,160,'king','city','no','excellent');
insert into room values (42,9,192,'single','ocean','no','poor');
insert into room values (43,9,126,'2 singles','square','yes','excellent');
insert into room values (44,9,175,'single','park','no','very good');
insert into room values (45,9,167,'2 doubles','square','yes','good');
insert into room values (46,10,183,'2 queens','ocean','no','fair');
insert into room values (47,10,170,'2 queens','city','yes','very poor');
insert into room values (48,10,137,'king','river','yes','very poor');
insert into room values (49,10,186,'2 kings','ocean','yes','good');
insert into room values (50,10,145,'single','mountain','no','excellent');
insert into room values (51,11,155,'2 singles','mountain','no','fair');
insert into room values (52,11,113,'2 doubles','city','no','very good');
insert into room values (53,11,127,'king','ocean','yes','very poor');
insert into room values (54,11,146,'double','river','no','very poor');
insert into room values (55,11,132,'queen','ocean','yes','excellent');
insert into room values (56,12,156,'double','mountain','yes','poor');
insert into room values (57,12,114,'single','ocean','no','excellent');
insert into room values (58,12,106,'2 kings','square','yes','fair');
insert into room values (59,12,102,'double','city','no','fair');
insert into room values (60,12,118,'king','square','yes','poor');
insert into room values (61,13,144,'king','ocean','yes','very poor');
insert into room values (62,13,165,'double','city','yes','very good');
insert into room values (63,13,122,'queen','park','no','good');
insert into room values (64,13,130,'double','square','no','very poor');
insert into room values (65,13,100,'2 queens','city','no','fair');
insert into room values (66,14,179,'2 kings','square','yes','fair');
insert into room values (67,14,181,'single','mountain','yes','good');
insert into room values (68,14,180,'single','park','yes','good');
insert into room values (69,14,125,'single','park','yes','very poor');
insert into room values (70,14,137,'2 singles','square','yes','excellent');
insert into room values (71,15,103,'2 doubles','river','no','fair');
insert into room values (72,15,173,'2 queens','city','no','poor');
insert into room values (73,15,182,'double','river','yes','very good');
insert into room values (74,15,192,'2 kings','park','no','fair');
insert into room values (75,15,178,'double','square','yes','very good');
insert into room values (76,16,110,'queen','city','no','very good');
insert into room values (77,16,185,'2 doubles','city','yes','fair');
insert into room values (78,16,161,'single','square','yes','poor');
insert into room values (79,16,174,'2 doubles','ocean','no','excellent');
insert into room values (80,16,153,'queen','mountain','yes','very good');
insert into room values (81,17,187,'single','river','yes','very good');
insert into room values (82,17,133,'double','park','yes','good');
insert into room values (83,17,134,'2 queens','ocean','no','poor');
insert into room values (84,17,165,'2 doubles','ocean','yes','very good');
insert into room values (85,17,136,'double','ocean','no','very poor');
insert into room values (86,18,128,'single','city','no','fair');
insert into room values (87,18,187,'queen','park','no','poor');
insert into room values (88,18,126,'single','square','yes','excellent');
insert into room values (89,18,168,'2 doubles','ocean','no','excellent');
insert into room values (90,18,176,'king','square','no','very poor');
insert into room values (91,19,157,'single','park','yes','fair');
insert into room values (92,19,161,'double','city','no','fair');
insert into room values (93,19,108,'2 queens','city','yes','poor');
insert into room values (94,19,126,'2 doubles','mountain','yes','good');
insert into room values (95,19,151,'double','city','yes','poor');
insert into room values (96,20,184,'single','city','yes','good');
insert into room values (97,20,155,'king','square','no','fair');
insert into room values (98,20,144,'double','park','no','poor');
insert into room values (99,20,190,'2 queens','city','no','excellent');
insert into room values (100,20,104,'2 singles','park','no','excellent');
insert into room values (101,21,169,'2 queens','city','yes','very poor');
insert into room values (102,21,182,'2 singles','square','yes','good');
insert into room values (103,21,129,'double','mountain','no','very poor');
insert into room values (104,21,195,'2 singles','park','yes','poor');
insert into room values (105,21,195,'2 singles','park','no','good');
insert into room values (106,22,182,'2 doubles','mountain','yes','excellent');
insert into room values (107,22,140,'queen','park','yes','excellent');
insert into room values (108,22,127,'double','river','no','excellent');
insert into room values (109,22,195,'2 queens','park','yes','excellent');
insert into room values (110,22,100,'2 kings','ocean','no','good');
insert into room values (111,23,193,'single','river','no','very poor');
insert into room values (112,23,143,'single','city','yes','good');
insert into room values (113,23,174,'2 kings','square','yes','poor');
insert into room values (114,23,198,'2 queens','river','yes','good');
insert into room values (115,23,165,'double','ocean','no','good');
insert into room values (116,24,124,'2 kings','ocean','no','excellent');
insert into room values (117,24,119,'queen','river','no','good');
insert into room values (118,24,171,'double','river','no','very good');
insert into room values (119,24,169,'king','river','no','very poor');
insert into room values (120,24,152,'2 kings','park','yes','good');
insert into room values (121,25,139,'king','city','no','good');
insert into room values (122,25,115,'2 singles','square','no','fair');
insert into room values (123,25,117,'single','park','no','poor');
insert into room values (124,25,199,'single','ocean','yes','very good');
insert into room values (125,25,106,'king','city','yes','very poor');
insert into room values (126,26,168,'king','river','no','poor');
insert into room values (127,26,124,'double','park','no','poor');
insert into room values (128,26,149,'single','ocean','yes','good');
insert into room values (129,26,142,'2 queens','square','yes','excellent');
insert into room values (130,26,131,'2 queens','mountain','no','excellent');
insert into room values (131,27,183,'double','mountain','no','poor');
insert into room values (132,27,195,'2 singles','park','yes','excellent');
insert into room values (133,27,164,'2 queens','ocean','yes','poor');
insert into room values (134,27,108,'2 queens','ocean','yes','good');
insert into room values (135,27,196,'king','ocean','no','very poor');
insert into room values (136,28,155,'2 singles','river','no','good');
insert into room values (137,28,109,'2 singles','park','no','poor');
insert into room values (138,28,110,'queen','park','no','poor');
insert into room values (139,28,105,'2 singles','square','no','very poor');
insert into room values (140,28,121,'2 queens','river','no','poor');
insert into room values (141,29,184,'2 queens','city','no','fair');
insert into room values (142,29,104,'2 doubles','park','yes','good');
insert into room values (143,29,164,'king','ocean','no','fair');
insert into room values (144,29,177,'2 kings','river','yes','poor');
insert into room values (145,29,111,'king','ocean','yes','good');
insert into room values (146,30,137,'2 singles','square','yes','very poor');
insert into room values (147,30,105,'double','ocean','yes','fair');
insert into room values (148,30,109,'queen','river','yes','very good');
insert into room values (149,30,154,'2 doubles','river','yes','very good');
insert into room values (150,30,165,'2 kings','park','yes','fair');
insert into room values (151,31,120,'2 doubles','square','yes','good');
insert into room values (152,31,151,'queen','square','no','fair');
insert into room values (153,31,155,'2 singles','ocean','yes','excellent');
insert into room values (154,31,130,'2 queens','river','yes','very poor');
insert into room values (155,31,168,'2 singles','square','yes','fair');
insert into room values (156,32,127,'queen','ocean','yes','very good');
insert into room values (157,32,166,'single','park','no','very good');
insert into room values (158,32,108,'king','ocean','no','very poor');
insert into room values (159,32,107,'2 doubles','ocean','yes','very good');
insert into room values (160,32,100,'double','city','no','poor');
insert into room values (161,33,190,'2 doubles','river','yes','poor');
insert into room values (162,33,169,'king','mountain','yes','very poor');
insert into room values (163,33,143,'2 doubles','river','yes','very good');
insert into room values (164,33,197,'king','park','no','poor');
insert into room values (165,33,179,'queen','mountain','yes','excellent');
insert into room values (166,34,168,'2 doubles','ocean','no','excellent');
insert into room values (167,34,150,'2 queens','square','yes','very poor');
insert into room values (168,34,195,'2 singles','ocean','yes','fair');
insert into room values (169,34,196,'2 doubles','ocean','yes','very poor');
insert into room values (170,34,103,'single','square','yes','poor');
insert into room values (171,35,191,'double','square','yes','very poor');
insert into room values (172,35,128,'double','ocean','yes','excellent');
insert into room values (173,35,183,'2 queens','square','yes','fair');
insert into room values (174,35,105,'2 singles','mountain','yes','very poor');
insert into room values (175,35,120,'2 singles','park','yes','poor');
insert into room values (176,36,170,'2 singles','square','no','good');
insert into room values (177,36,171,'king','ocean','no','poor');
insert into room values (178,36,192,'queen','mountain','yes','fair');
insert into room values (179,36,147,'double','mountain','yes','good');
insert into room values (180,36,193,'king','square','no','excellent');
insert into room values (181,37,171,'single','park','no','excellent');
insert into room values (182,37,186,'2 singles','park','no','excellent');
insert into room values (183,37,166,'single','river','no','poor');
insert into room values (184,37,106,'queen','park','no','very good');
insert into room values (185,37,122,'king','square','yes','very poor');
insert into room values (186,38,109,'2 singles','ocean','yes','good');
insert into room values (187,38,102,'2 doubles','ocean','yes','fair');
insert into room values (188,38,108,'king','city','yes','very good');
insert into room values (189,38,108,'queen','city','no','very good');
insert into room values (190,38,145,'2 queens','mountain','no','good');
insert into room values (191,39,185,'2 kings','mountain','no','good');
insert into room values (192,39,180,'double','mountain','yes','poor');
insert into room values (193,39,130,'2 doubles','river','yes','excellent');
insert into room values (194,39,178,'queen','river','no','fair');
insert into room values (195,39,149,'single','river','no','excellent');
insert into room values (196,40,167,'2 doubles','square','no','fair');
insert into room values (197,40,159,'2 queens','river','yes','good');
insert into room values (198,40,192,'double','river','no','poor');
insert into room values (199,40,123,'2 singles','mountain','no','fair');
insert into room values (200,40,198,'2 kings','ocean','yes','poor');






insert into address values (46,'34 street street','ottawa','canada');


insert into employee values (1,1,'clarise 1',46,'manager');
insert into employee values (2,1,'ray ray 1',46,'employee');
insert into manages values (1,2);
insert into employee values (3,2,'clarise 2',46,'manager');
insert into employee values (4,2,'ray ray 2',46,'employee');
insert into manages values (3,4);
insert into employee values (5,3,'clarise 3',46,'manager');
insert into employee values (6,3,'ray ray 3',46,'employee');
insert into manages values (5,6);
insert into employee values (7,4,'clarise 4',46,'manager');
insert into employee values (8,4,'ray ray 4',46,'employee');
insert into manages values (7,8);
insert into employee values (9,5,'clarise 5',46,'manager');
insert into employee values (10,5,'ray ray 5',46,'employee');
insert into manages values (9,10);
insert into employee values (11,6,'clarise 6',46,'manager');
insert into employee values (12,6,'ray ray 6',46,'employee');
insert into manages values (11,12);
insert into employee values (13,7,'clarise 7',46,'manager');
insert into employee values (14,7,'ray ray 7',46,'employee');
insert into manages values (13,14);
insert into employee values (15,8,'clarise 8',46,'manager');
insert into employee values (16,8,'ray ray 8',46,'employee');
insert into manages values (15,16);
insert into employee values (17,9,'clarise 9',46,'manager');
insert into employee values (18,9,'ray ray 9',46,'employee');
insert into manages values (17,18);
insert into employee values (19,10,'clarise 10',46,'manager');
insert into employee values (20,10,'ray ray 10',46,'employee');
insert into manages values (19,20);
insert into employee values (21,11,'clarise 11',46,'manager');
insert into employee values (22,11,'ray ray 11',46,'employee');
insert into manages values (21,22);
insert into employee values (23,12,'clarise 12',46,'manager');
insert into employee values (24,12,'ray ray 12',46,'employee');
insert into manages values (23,24);
insert into employee values (25,13,'clarise 13',46,'manager');
insert into employee values (26,13,'ray ray 13',46,'employee');
insert into manages values (25,26);
insert into employee values (27,14,'clarise 14',46,'manager');
insert into employee values (28,14,'ray ray 14',46,'employee');
insert into manages values (27,28);
insert into employee values (29,15,'clarise 15',46,'manager');
insert into employee values (30,15,'ray ray 15',46,'employee');
insert into manages values (29,30);
insert into employee values (31,16,'clarise 16',46,'manager');
insert into employee values (32,16,'ray ray 16',46,'employee');
insert into manages values (31,32);
insert into employee values (33,17,'clarise 17',46,'manager');
insert into employee values (34,17,'ray ray 17',46,'employee');
insert into manages values (33,34);
insert into employee values (35,18,'clarise 18',46,'manager');
insert into employee values (36,18,'ray ray 18',46,'employee');
insert into manages values (35,36);
insert into employee values (37,19,'clarise 19',46,'manager');
insert into employee values (38,19,'ray ray 19',46,'employee');
insert into manages values (37,38);
insert into employee values (39,20,'clarise 20',46,'manager');
insert into employee values (40,20,'ray ray 20',46,'employee');
insert into manages values (39,40);
insert into employee values (41,21,'clarise 21',46,'manager');
insert into employee values (42,21,'ray ray 21',46,'employee');
insert into manages values (41,42);
insert into employee values (43,22,'clarise 22',46,'manager');
insert into employee values (44,22,'ray ray 22',46,'employee');
insert into manages values (43,44);
insert into employee values (45,23,'clarise 23',46,'manager');
insert into employee values (46,23,'ray ray 23',46,'employee');
insert into manages values (45,46);
insert into employee values (47,24,'clarise 24',46,'manager');
insert into employee values (48,24,'ray ray 24',46,'employee');
insert into manages values (47,48);
insert into employee values (49,25,'clarise 25',46,'manager');
insert into employee values (50,25,'ray ray 25',46,'employee');
insert into manages values (49,50);
insert into employee values (51,26,'clarise 26',46,'manager');
insert into employee values (52,26,'ray ray 26',46,'employee');
insert into manages values (51,52);
insert into employee values (53,27,'clarise 27',46,'manager');
insert into employee values (54,27,'ray ray 27',46,'employee');
insert into manages values (53,54);
insert into employee values (55,28,'clarise 28',46,'manager');
insert into employee values (56,28,'ray ray 28',46,'employee');
insert into manages values (55,56);
insert into employee values (57,29,'clarise 29',46,'manager');
insert into employee values (58,29,'ray ray 29',46,'employee');
insert into manages values (57,58);
insert into employee values (59,30,'clarise 30',46,'manager');
insert into employee values (60,30,'ray ray 30',46,'employee');
insert into manages values (59,60);
insert into employee values (61,31,'clarise 31',46,'manager');
insert into employee values (62,31,'ray ray 31',46,'employee');
insert into manages values (61,62);
insert into employee values (63,32,'clarise 32',46,'manager');
insert into employee values (64,32,'ray ray 32',46,'employee');
insert into manages values (63,64);
insert into employee values (65,33,'clarise 33',46,'manager');
insert into employee values (66,33,'ray ray 33',46,'employee');
insert into manages values (65,66);
insert into employee values (67,34,'clarise 34',46,'manager');
insert into employee values (68,34,'ray ray 34',46,'employee');
insert into manages values (67,68);
insert into employee values (69,35,'clarise 35',46,'manager');
insert into employee values (70,35,'ray ray 35',46,'employee');
insert into manages values (69,70);
insert into employee values (71,36,'clarise 36',46,'manager');
insert into employee values (72,36,'ray ray 36',46,'employee');
insert into manages values (71,72);
insert into employee values (73,37,'clarise 37',46,'manager');
insert into employee values (74,37,'ray ray 37',46,'employee');
insert into manages values (73,74);
insert into employee values (75,38,'clarise 38',46,'manager');
insert into employee values (76,38,'ray ray 38',46,'employee');
insert into manages values (75,76);
insert into employee values (77,39,'clarise 39',46,'manager');
insert into employee values (78,39,'ray ray 39',46,'employee');
insert into manages values (77,78);
insert into employee values (79,40,'clarise 40',46,'manager');
insert into employee values (80,40,'ray ray 40',46,'employee');
insert into manages values (79,80);

set search_path = 'public';

create table address(

	address_id serial primaary key,
	street varchar(150),
	city varchar(100),
	country varchar(100)
);

insert into address values (1,'123 Rideau Street','Ottawa','Canada');
insert into address values (2,'4 Fifth Ave','New York', 'America');
insert into address values (3,'9 Gofer Ave','Chicago', 'America');
insert into address values (4,'12 Rainy Lane', 'Vancouver', 'Canada');
insert into address values (5,'3456 OVO Lane', 'Toronto', 'Canada');
insert into address values (6,'1 John Way', 'Atlanta', 'America');
insert into address values (7,'3 Locke Street', 'Hamilton', 'Canada');
insert into address values (8,'3 Red Wing Place', 'Detroit', 'America'); 
insert into address values (9,'123 Spark Street','Ottawa','Canada');
insert into address values (10,'12345 Seventh Ave','New York', 'America');
insert into address values (11,'2 chic lane','Chicago', 'America');
insert into address values (12,'3 Mountain Drive', 'Vancouver', 'Canada');
insert into address values (13,'34 Weazy Place', 'Toronto', 'Canada');
insert into address values (14,'2 Mark Drive', 'Atlanta', 'America');
insert into address values (15,'4 Norton way', 'Hamilton', 'Canada');
insert into address values (16,'45 Lions Drive', 'Detroit', 'America');
insert into address values (17,'12 Range Road','Ottawa','Canada');
insert into address values (18,'56743 New York Lane','New York', 'America');
insert into address values (19,'3 Grape Lane','Chicago', 'America');
insert into address values (20,'123 Overhang Street', 'Vancouver', 'Canada');
insert into address values (21,'778 TTC Drive', 'Toronto', 'Canada');
insert into address values (22,'3 Matt Street', 'Atlanta', 'America');
insert into address values (23,'345 Coolio Street', 'Hamilton', 'Canada');
insert into address values (24,'8 Mile Road', 'Detroit', 'America');
insert into address values (25,'234 Albert street','Ottawa','Canada');
insert into address values (26,'454545 King Street','New York', 'America');
insert into address values (27,'34 Waddle Drive','Chicago', 'America');
insert into address values (28,'3453676 Snowy Street', 'Vancouver', 'Canada');
insert into address values (29,'1231 ACC Street', 'Toronto', 'Canada');
insert into address values (30,'4 Mark Drive', 'Atlanta', 'America');
insert into address values (31,'12312 Hammy Street', 'Hamilton', 'Canada');
insert into address values (32,'2323 MnM Street', 'Detroit', 'America');
insert into address values (33,'9008 Elgin street','Ottawa','Canada');
insert into address values (34,'90623 Queens Ave','New York', 'America');
insert into address values (35,'666 Devil Drive','Chicago', 'America');
insert into address values (36,'97822 Windy Ave', 'Vancouver', 'Canada');
insert into address values (37,'666 Drake Drive', 'Toronto', 'Canada');
insert into address values (38,'5 Joe Street', 'Atlanta', 'America');
insert into address values (39,'67676 GTA Street', 'Hamilton', 'Canada');
insert into address values (40,'50 Cent Way', 'Detroit', 'America');
insert into address values (41,'1 Chain Way', 'Maryland', 'America');
insert into address values (42,'2 Chain Way', 'Maryland', 'America');
insert into address values (43,'3 Chain Way', 'Maryland', 'America');
insert into address values (44,'4 Chain Way', 'Maryland', 'America');
insert into address values (45,'5 Chain Way', 'Maryland', 'America');
insert into address values (46,'employee street address', 'employ', 'America');
insert into address values (46,'employee street address', 'employ', 'America');

CREATE TABLE public.hotel_chain (
    chain_id integer primary key,
    address_id integer NOT NULL,
    num_hotels integer,
    contact_emails character varying(300),
    contact_numbers character varying(10),
    chain_name character varying(100),
	foreign key(address_id) references address(address_id)
	
);

insert into hotel_chain values(1,41,0,'contact@email.com' ,'1235678909','Westin');
insert into hotel_chain values(2,42,0,'contact@email.com' ,'1235678909','Radison');
insert into hotel_chain values(3,43,0,'contact@email.com' ,'1235678909','Best Northern');
insert into hotel_chain values(4,44,0,'contact@email.com' ,'1235678909','Holiday Inn');
insert into hotel_chain values(5,45,0,'contact@email.com' ,'1235678909','Comfort Zone');

create table hotel (

	hotel_id serial primary key,
	chain_id int not null,
	address_id int not null,
	contact_emails varchar(300),
	contact_numbers varchar(10),
	num_rooms int,
	rating int,
	hotel_name character varying(100),
	
	foreign key(chain_id) references hotel_chain(chain_id) on delete cascade,
	foreign key(address_id) references address(address_id)
);


insert into hotel values (1,1,1,'contact@email.com' ,'1235678909',0,1);
insert into hotel values (2,1,2,'contact@email.com' ,'1235678909',0,1);
insert into hotel values (3,1,3,'contact@email.com' ,'1235678909',0,1);
insert into hotel values (4,1,4,'contact@email.com' ,'1235678909',0,1);
insert into hotel values (5,1,5,'contact@email.com' ,'1235678909',0,4);
insert into hotel values (6,1,6,'contact@email.com' ,'1235678909',0,4);
insert into hotel values (7,1,7,'contact@email.com' ,'1235678909',0,2);
insert into hotel values (8,1,8,'contact@email.com' ,'1235678909',0,2);
insert into hotel values (9,2,9,'contact@email.com' ,'1235678909',0,4);
insert into hotel values (10,2,10,'contact@email.com' ,'1235678909',0,1);
insert into hotel values (11,2,11,'contact@email.com' ,'1235678909',0,2);
insert into hotel values (12,2,12,'contact@email.com' ,'1235678909',0,5);
insert into hotel values (13,2,13,'contact@email.com' ,'1235678909',0,1);
insert into hotel values (14,2,14,'contact@email.com' ,'1235678909',0,4);
insert into hotel values (15,2,15,'contact@email.com' ,'1235678909',0,2);
insert into hotel values (16,2,16,'contact@email.com' ,'1235678909',0,5);
insert into hotel values (17,3,17,'contact@email.com' ,'1235678909',0,2);
insert into hotel values (18,3,18,'contact@email.com' ,'1235678909',0,3);
insert into hotel values (19,3,19,'contact@email.com' ,'1235678909',0,5);
insert into hotel values (20,3,20,'contact@email.com' ,'1235678909',0,3);
insert into hotel values (21,3,21,'contact@email.com' ,'1235678909',0,5);
insert into hotel values (22,3,22,'contact@email.com' ,'1235678909',0,5);
insert into hotel values (23,3,23,'contact@email.com' ,'1235678909',0,4);
insert into hotel values (24,3,24,'contact@email.com' ,'1235678909',0,1);
insert into hotel values (25,4,25,'contact@email.com' ,'1235678909',0,3);
insert into hotel values (26,4,26,'contact@email.com' ,'1235678909',0,2);
insert into hotel values (27,4,27,'contact@email.com' ,'1235678909',0,2);
insert into hotel values (28,4,28,'contact@email.com' ,'1235678909',0,2);
insert into hotel values (29,4,29,'contact@email.com' ,'1235678909',0,2);
insert into hotel values (30,4,30,'contact@email.com' ,'1235678909',0,3);
insert into hotel values (31,4,31,'contact@email.com' ,'1235678909',0,5);
insert into hotel values (32,4,32,'contact@email.com' ,'1235678909',0,4);
insert into hotel values (33,5,33,'contact@email.com' ,'1235678909',0,4);
insert into hotel values (34,5,34,'contact@email.com' ,'1235678909',0,4);
insert into hotel values (35,5,35,'contact@email.com' ,'1235678909',0,3);
insert into hotel values (36,5,36,'contact@email.com' ,'1235678909',0,5);
insert into hotel values (37,5,37,'contact@email.com' ,'1235678909',0,4);
insert into hotel values (38,5,38,'contact@email.com' ,'1235678909',0,1);
insert into hotel values (39,5,39,'contact@email.com' ,'1235678909',0,4);
insert into hotel values (40,5,40,'contact@email.com' ,'1235678909',0,3);

update hotel set hotel_name = 'westin Ottawa' where hotel_id =1;
update hotel set hotel_name = 'westin New York' where hotel_id =2;
update hotel set hotel_name = 'westin Chicago' where hotel_id =3;
update hotel set hotel_name = 'westin Vancouver' where hotel_id =4;
update hotel set hotel_name = 'westin Toronto' where hotel_id =5;
update hotel set hotel_name = 'westin Atlanta' where hotel_id =6;
update hotel set hotel_name = 'westin Hamilton' where hotel_id =7;
update hotel set hotel_name = 'westin Detroit' where hotel_id =8;
update hotel set hotel_name = 'radison Ottawa' where hotel_id =9;
update hotel set hotel_name = 'radison New York' where hotel_id =10;
update hotel set hotel_name = 'radison Chicago' where hotel_id =11;
update hotel set hotel_name = 'radison Vancouver' where hotel_id =12;
update hotel set hotel_name = 'radison Toronto' where hotel_id =13;
update hotel set hotel_name = 'radison Atlanta' where hotel_id =14;
update hotel set hotel_name = 'radison Hamilton' where hotel_id =15;
update hotel set hotel_name = 'radison Detroit' where hotel_id =16;
update hotel set hotel_name = 'Best Northern Ottawa' where hotel_id =17;
update hotel set hotel_name = 'Best Northern New York' where hotel_id =18;
update hotel set hotel_name = 'Best Northern Chicago' where hotel_id =19;
update hotel set hotel_name = 'Best Northern Vancouver' where hotel_id =20;
update hotel set hotel_name = 'Best Northern Toronto' where hotel_id =21;
update hotel set hotel_name = 'Best Northern Atlanta' where hotel_id =22;
update hotel set hotel_name = 'Best Northern Hamilton' where hotel_id =23;
update hotel set hotel_name = 'Best Northern Detroit' where hotel_id =24;
update hotel set hotel_name = 'Holiday Inn Ottawa' where hotel_id =25;
update hotel set hotel_name = 'Holiday Inn New York' where hotel_id =26;
update hotel set hotel_name = 'Holiday Inn Chicago' where hotel_id =27;
update hotel set hotel_name = 'Holiday Inn Vancouver' where hotel_id =28;
update hotel set hotel_name = 'Holiday Inn Toronto' where hotel_id =29;
update hotel set hotel_name = 'Holiday Inn Atlanta' where hotel_id =30;
update hotel set hotel_name = 'Holiday Inn Hamilton' where hotel_id =31;
update hotel set hotel_name = 'Holiday Inn Detroit' where hotel_id =32;
update hotel set hotel_name = 'Comfort Zone Ottawa' where hotel_id =33;
update hotel set hotel_name = 'Comfort Zone New York' where hotel_id =34;
update hotel set hotel_name = 'Comfort Zone Chicago' where hotel_id =35;
update hotel set hotel_name = 'Comfort Zone Vancouver' where hotel_id =36;
update hotel set hotel_name = 'Comfort Zone Toronto' where hotel_id =37;
update hotel set hotel_name = 'Comfort Zone Atlanta' where hotel_id =38;
update hotel set hotel_name = 'Comfort Zone Hamilton' where hotel_id =39;
update hotel set hotel_name = 'Comfort Zone Detroit' where hotel_id =40;


CREATE TABLE public.room (
    room_id serial primary key,
    hotel_id integer NOT NULL,
    price integer,
    capacity character varying(50),
    room_view character varying(80),
    can_be_extended character varying(3),
    room_quality character varying(80),
    CONSTRAINT check_room CHECK ((((capacity)::text = ANY ((ARRAY['single'::character varying, 'double'::character varying, 'queen'::character varying, 'king'::character varying, '2 singles'::character varying, '2 doubles'::character varying, '2 queens'::character varying, '2 kings'::character varying])::text[])) AND ((room_view)::text = ANY ((ARRAY['mountain'::character varying, 'park'::character varying, 'city'::character varying, 'river'::character varying, 'ocean'::character varying, 'square'::character varying])::text[])) AND ((can_be_extended)::text = ANY ((ARRAY['yes'::character varying, 'no'::character varying])::text[])) AND ((room_quality)::text = ANY ((ARRAY['very poor'::character varying, 'poor'::character varying, 'fair'::character varying, 'good'::character varying, 'excellent'::character varying, 'very good'::character varying])::text[])))),

	foreign key(hotel_id) references hotel(hotel_id) on delete cascade
	
);


insert into room values (1,1,102,'2 singles','mountain','no','very good');
insert into room values (2,1,151,'single','square','no','excellent');
insert into room values (3,1,157,'king','city','no','fair');
insert into room values (4,1,172,'2 singles','mountain','yes','fair');
insert into room values (5,1,186,'2 queens','river','no','fair');
insert into room values (6,2,140,'2 kings','city','no','very good');
insert into room values (7,2,112,'single','square','no','fair');
insert into room values (8,2,173,'2 queens','ocean','no','fair');
insert into room values (9,2,185,'2 queens','square','yes','fair');
insert into room values (10,2,188,'king','ocean','yes','fair');
insert into room values (11,3,132,'double','mountain','no','poor');
insert into room values (12,3,109,'2 doubles','square','yes','very good');
insert into room values (13,3,100,'2 doubles','ocean','no','fair');
insert into room values (14,3,105,'2 queens','mountain','no','very poor');
insert into room values (15,3,144,'2 kings','ocean','yes','excellent');
insert into room values (16,4,146,'2 singles','park','yes','excellent');
insert into room values (17,4,109,'single','river','yes','good');
insert into room values (18,4,154,'2 doubles','city','no','fair');
insert into room values (19,4,193,'2 kings','park','yes','excellent');
insert into room values (20,4,131,'2 kings','mountain','no','poor');
insert into room values (21,5,188,'2 kings','park','no','very poor');
insert into room values (22,5,175,'2 queens','square','yes','fair');
insert into room values (23,5,151,'king','square','no','fair');
insert into room values (24,5,190,'king','ocean','yes','poor');
insert into room values (25,5,178,'single','square','yes','very poor');
insert into room values (26,6,107,'2 doubles','river','no','fair');
insert into room values (27,6,183,'2 doubles','city','no','poor');
insert into room values (28,6,188,'2 kings','city','no','fair');
insert into room values (29,6,141,'queen','ocean','no','excellent');
insert into room values (30,6,143,'queen','river','yes','very good');
insert into room values (31,7,107,'2 singles','city','yes','very good');
insert into room values (32,7,127,'2 kings','ocean','yes','poor');
insert into room values (33,7,173,'2 queens','mountain','no','very poor');
insert into room values (34,7,106,'double','square','yes','excellent');
insert into room values (35,7,183,'2 queens','mountain','yes','very good');
insert into room values (36,8,161,'2 doubles','ocean','yes','fair');
insert into room values (37,8,186,'double','river','no','excellent');
insert into room values (38,8,137,'2 kings','square','yes','very good');
insert into room values (39,8,190,'king','square','no','good');
insert into room values (40,8,172,'queen','park','no','fair');
insert into room values (41,9,160,'king','city','no','excellent');
insert into room values (42,9,192,'single','ocean','no','poor');
insert into room values (43,9,126,'2 singles','square','yes','excellent');
insert into room values (44,9,175,'single','park','no','very good');
insert into room values (45,9,167,'2 doubles','square','yes','good');
insert into room values (46,10,183,'2 queens','ocean','no','fair');
insert into room values (47,10,170,'2 queens','city','yes','very poor');
insert into room values (48,10,137,'king','river','yes','very poor');
insert into room values (49,10,186,'2 kings','ocean','yes','good');
insert into room values (50,10,145,'single','mountain','no','excellent');
insert into room values (51,11,155,'2 singles','mountain','no','fair');
insert into room values (52,11,113,'2 doubles','city','no','very good');
insert into room values (53,11,127,'king','ocean','yes','very poor');
insert into room values (54,11,146,'double','river','no','very poor');
insert into room values (55,11,132,'queen','ocean','yes','excellent');
insert into room values (56,12,156,'double','mountain','yes','poor');
insert into room values (57,12,114,'single','ocean','no','excellent');
insert into room values (58,12,106,'2 kings','square','yes','fair');
insert into room values (59,12,102,'double','city','no','fair');
insert into room values (60,12,118,'king','square','yes','poor');
insert into room values (61,13,144,'king','ocean','yes','very poor');
insert into room values (62,13,165,'double','city','yes','very good');
insert into room values (63,13,122,'queen','park','no','good');
insert into room values (64,13,130,'double','square','no','very poor');
insert into room values (65,13,100,'2 queens','city','no','fair');
insert into room values (66,14,179,'2 kings','square','yes','fair');
insert into room values (67,14,181,'single','mountain','yes','good');
insert into room values (68,14,180,'single','park','yes','good');
insert into room values (69,14,125,'single','park','yes','very poor');
insert into room values (70,14,137,'2 singles','square','yes','excellent');
insert into room values (71,15,103,'2 doubles','river','no','fair');
insert into room values (72,15,173,'2 queens','city','no','poor');
insert into room values (73,15,182,'double','river','yes','very good');
insert into room values (74,15,192,'2 kings','park','no','fair');
insert into room values (75,15,178,'double','square','yes','very good');
insert into room values (76,16,110,'queen','city','no','very good');
insert into room values (77,16,185,'2 doubles','city','yes','fair');
insert into room values (78,16,161,'single','square','yes','poor');
insert into room values (79,16,174,'2 doubles','ocean','no','excellent');
insert into room values (80,16,153,'queen','mountain','yes','very good');
insert into room values (81,17,187,'single','river','yes','very good');
insert into room values (82,17,133,'double','park','yes','good');
insert into room values (83,17,134,'2 queens','ocean','no','poor');
insert into room values (84,17,165,'2 doubles','ocean','yes','very good');
insert into room values (85,17,136,'double','ocean','no','very poor');
insert into room values (86,18,128,'single','city','no','fair');
insert into room values (87,18,187,'queen','park','no','poor');
insert into room values (88,18,126,'single','square','yes','excellent');
insert into room values (89,18,168,'2 doubles','ocean','no','excellent');
insert into room values (90,18,176,'king','square','no','very poor');
insert into room values (91,19,157,'single','park','yes','fair');
insert into room values (92,19,161,'double','city','no','fair');
insert into room values (93,19,108,'2 queens','city','yes','poor');
insert into room values (94,19,126,'2 doubles','mountain','yes','good');
insert into room values (95,19,151,'double','city','yes','poor');
insert into room values (96,20,184,'single','city','yes','good');
insert into room values (97,20,155,'king','square','no','fair');
insert into room values (98,20,144,'double','park','no','poor');
insert into room values (99,20,190,'2 queens','city','no','excellent');
insert into room values (100,20,104,'2 singles','park','no','excellent');
insert into room values (101,21,169,'2 queens','city','yes','very poor');
insert into room values (102,21,182,'2 singles','square','yes','good');
insert into room values (103,21,129,'double','mountain','no','very poor');
insert into room values (104,21,195,'2 singles','park','yes','poor');
insert into room values (105,21,195,'2 singles','park','no','good');
insert into room values (106,22,182,'2 doubles','mountain','yes','excellent');
insert into room values (107,22,140,'queen','park','yes','excellent');
insert into room values (108,22,127,'double','river','no','excellent');
insert into room values (109,22,195,'2 queens','park','yes','excellent');
insert into room values (110,22,100,'2 kings','ocean','no','good');
insert into room values (111,23,193,'single','river','no','very poor');
insert into room values (112,23,143,'single','city','yes','good');
insert into room values (113,23,174,'2 kings','square','yes','poor');
insert into room values (114,23,198,'2 queens','river','yes','good');
insert into room values (115,23,165,'double','ocean','no','good');
insert into room values (116,24,124,'2 kings','ocean','no','excellent');
insert into room values (117,24,119,'queen','river','no','good');
insert into room values (118,24,171,'double','river','no','very good');
insert into room values (119,24,169,'king','river','no','very poor');
insert into room values (120,24,152,'2 kings','park','yes','good');
insert into room values (121,25,139,'king','city','no','good');
insert into room values (122,25,115,'2 singles','square','no','fair');
insert into room values (123,25,117,'single','park','no','poor');
insert into room values (124,25,199,'single','ocean','yes','very good');
insert into room values (125,25,106,'king','city','yes','very poor');
insert into room values (126,26,168,'king','river','no','poor');
insert into room values (127,26,124,'double','park','no','poor');
insert into room values (128,26,149,'single','ocean','yes','good');
insert into room values (129,26,142,'2 queens','square','yes','excellent');
insert into room values (130,26,131,'2 queens','mountain','no','excellent');
insert into room values (131,27,183,'double','mountain','no','poor');
insert into room values (132,27,195,'2 singles','park','yes','excellent');
insert into room values (133,27,164,'2 queens','ocean','yes','poor');
insert into room values (134,27,108,'2 queens','ocean','yes','good');
insert into room values (135,27,196,'king','ocean','no','very poor');
insert into room values (136,28,155,'2 singles','river','no','good');
insert into room values (137,28,109,'2 singles','park','no','poor');
insert into room values (138,28,110,'queen','park','no','poor');
insert into room values (139,28,105,'2 singles','square','no','very poor');
insert into room values (140,28,121,'2 queens','river','no','poor');
insert into room values (141,29,184,'2 queens','city','no','fair');
insert into room values (142,29,104,'2 doubles','park','yes','good');
insert into room values (143,29,164,'king','ocean','no','fair');
insert into room values (144,29,177,'2 kings','river','yes','poor');
insert into room values (145,29,111,'king','ocean','yes','good');
insert into room values (146,30,137,'2 singles','square','yes','very poor');
insert into room values (147,30,105,'double','ocean','yes','fair');
insert into room values (148,30,109,'queen','river','yes','very good');
insert into room values (149,30,154,'2 doubles','river','yes','very good');
insert into room values (150,30,165,'2 kings','park','yes','fair');
insert into room values (151,31,120,'2 doubles','square','yes','good');
insert into room values (152,31,151,'queen','square','no','fair');
insert into room values (153,31,155,'2 singles','ocean','yes','excellent');
insert into room values (154,31,130,'2 queens','river','yes','very poor');
insert into room values (155,31,168,'2 singles','square','yes','fair');
insert into room values (156,32,127,'queen','ocean','yes','very good');
insert into room values (157,32,166,'single','park','no','very good');
insert into room values (158,32,108,'king','ocean','no','very poor');
insert into room values (159,32,107,'2 doubles','ocean','yes','very good');
insert into room values (160,32,100,'double','city','no','poor');
insert into room values (161,33,190,'2 doubles','river','yes','poor');
insert into room values (162,33,169,'king','mountain','yes','very poor');
insert into room values (163,33,143,'2 doubles','river','yes','very good');
insert into room values (164,33,197,'king','park','no','poor');
insert into room values (165,33,179,'queen','mountain','yes','excellent');
insert into room values (166,34,168,'2 doubles','ocean','no','excellent');
insert into room values (167,34,150,'2 queens','square','yes','very poor');
insert into room values (168,34,195,'2 singles','ocean','yes','fair');
insert into room values (169,34,196,'2 doubles','ocean','yes','very poor');
insert into room values (170,34,103,'single','square','yes','poor');
insert into room values (171,35,191,'double','square','yes','very poor');
insert into room values (172,35,128,'double','ocean','yes','excellent');
insert into room values (173,35,183,'2 queens','square','yes','fair');
insert into room values (174,35,105,'2 singles','mountain','yes','very poor');
insert into room values (175,35,120,'2 singles','park','yes','poor');
insert into room values (176,36,170,'2 singles','square','no','good');
insert into room values (177,36,171,'king','ocean','no','poor');
insert into room values (178,36,192,'queen','mountain','yes','fair');
insert into room values (179,36,147,'double','mountain','yes','good');
insert into room values (180,36,193,'king','square','no','excellent');
insert into room values (181,37,171,'single','park','no','excellent');
insert into room values (182,37,186,'2 singles','park','no','excellent');
insert into room values (183,37,166,'single','river','no','poor');
insert into room values (184,37,106,'queen','park','no','very good');
insert into room values (185,37,122,'king','square','yes','very poor');
insert into room values (186,38,109,'2 singles','ocean','yes','good');
insert into room values (187,38,102,'2 doubles','ocean','yes','fair');
insert into room values (188,38,108,'king','city','yes','very good');
insert into room values (189,38,108,'queen','city','no','very good');
insert into room values (190,38,145,'2 queens','mountain','no','good');
insert into room values (191,39,185,'2 kings','mountain','no','good');
insert into room values (192,39,180,'double','mountain','yes','poor');
insert into room values (193,39,130,'2 doubles','river','yes','excellent');
insert into room values (194,39,178,'queen','river','no','fair');
insert into room values (195,39,149,'single','river','no','excellent');
insert into room values (196,40,167,'2 doubles','square','no','fair');
insert into room values (197,40,159,'2 queens','river','yes','good');
insert into room values (198,40,192,'double','river','no','poor');
insert into room values (199,40,123,'2 singles','mountain','no','fair');
insert into room values (200,40,198,'2 kings','ocean','yes','poor');

CREATE TABLE public.amenities (
    amen_id serial,
    room_id integer NOT NULL,
    amenity character varying(80) primary key,
	foreign key(room_id) references room(room_id) on delete cascade
);

CREATE TABLE public.employee (
    sin integer primary key,
    hotel_id integer NOT NULL,
    full_name character varying(100),
    address_id integer,
    em_position character varying(100),
	foreign key(hotel_id) references hotel(hotel_id) on delete cascade,
	foreign key(address_id) references address(address_id)
);

create table manages (

	m_sin int not null,
	e_sin int not null,
	
	foreign key(m_sin) references employee(sin) on delete cascade,
	foreign key(e_sin) references employee(sin) on delete cascade
);


insert into employee values (1,1,'clarise 1',46,'manager');
insert into employee values (2,1,'ray ray 1',46,'employee');
insert into manages values (1,2);
insert into employee values (3,2,'clarise 2',46,'manager');
insert into employee values (4,2,'ray ray 2',46,'employee');
insert into manages values (3,4);
insert into employee values (5,3,'clarise 3',46,'manager');
insert into employee values (6,3,'ray ray 3',46,'employee');
insert into manages values (5,6);
insert into employee values (7,4,'clarise 4',46,'manager');
insert into employee values (8,4,'ray ray 4',46,'employee');
insert into manages values (7,8);
insert into employee values (9,5,'clarise 5',46,'manager');
insert into employee values (10,5,'ray ray 5',46,'employee');
insert into manages values (9,10);
insert into employee values (11,6,'clarise 6',46,'manager');
insert into employee values (12,6,'ray ray 6',46,'employee');
insert into manages values (11,12);
insert into employee values (13,7,'clarise 7',46,'manager');
insert into employee values (14,7,'ray ray 7',46,'employee');
insert into manages values (13,14);
insert into employee values (15,8,'clarise 8',46,'manager');
insert into employee values (16,8,'ray ray 8',46,'employee');
insert into manages values (15,16);
insert into employee values (17,9,'clarise 9',46,'manager');
insert into employee values (18,9,'ray ray 9',46,'employee');
insert into manages values (17,18);
insert into employee values (19,10,'clarise 10',46,'manager');
insert into employee values (20,10,'ray ray 10',46,'employee');
insert into manages values (19,20);
insert into employee values (21,11,'clarise 11',46,'manager');
insert into employee values (22,11,'ray ray 11',46,'employee');
insert into manages values (21,22);
insert into employee values (23,12,'clarise 12',46,'manager');
insert into employee values (24,12,'ray ray 12',46,'employee');
insert into manages values (23,24);
insert into employee values (25,13,'clarise 13',46,'manager');
insert into employee values (26,13,'ray ray 13',46,'employee');
insert into manages values (25,26);
insert into employee values (27,14,'clarise 14',46,'manager');
insert into employee values (28,14,'ray ray 14',46,'employee');
insert into manages values (27,28);
insert into employee values (29,15,'clarise 15',46,'manager');
insert into employee values (30,15,'ray ray 15',46,'employee');
insert into manages values (29,30);
insert into employee values (31,16,'clarise 16',46,'manager');
insert into employee values (32,16,'ray ray 16',46,'employee');
insert into manages values (31,32);
insert into employee values (33,17,'clarise 17',46,'manager');
insert into employee values (34,17,'ray ray 17',46,'employee');
insert into manages values (33,34);
insert into employee values (35,18,'clarise 18',46,'manager');
insert into employee values (36,18,'ray ray 18',46,'employee');
insert into manages values (35,36);
insert into employee values (37,19,'clarise 19',46,'manager');
insert into employee values (38,19,'ray ray 19',46,'employee');
insert into manages values (37,38);
insert into employee values (39,20,'clarise 20',46,'manager');
insert into employee values (40,20,'ray ray 20',46,'employee');
insert into manages values (39,40);
insert into employee values (41,21,'clarise 21',46,'manager');
insert into employee values (42,21,'ray ray 21',46,'employee');
insert into manages values (41,42);
insert into employee values (43,22,'clarise 22',46,'manager');
insert into employee values (44,22,'ray ray 22',46,'employee');
insert into manages values (43,44);
insert into employee values (45,23,'clarise 23',46,'manager');
insert into employee values (46,23,'ray ray 23',46,'employee');
insert into manages values (45,46);
insert into employee values (47,24,'clarise 24',46,'manager');
insert into employee values (48,24,'ray ray 24',46,'employee');
insert into manages values (47,48);
insert into employee values (49,25,'clarise 25',46,'manager');
insert into employee values (50,25,'ray ray 25',46,'employee');
insert into manages values (49,50);
insert into employee values (51,26,'clarise 26',46,'manager');
insert into employee values (52,26,'ray ray 26',46,'employee');
insert into manages values (51,52);
insert into employee values (53,27,'clarise 27',46,'manager');
insert into employee values (54,27,'ray ray 27',46,'employee');
insert into manages values (53,54);
insert into employee values (55,28,'clarise 28',46,'manager');
insert into employee values (56,28,'ray ray 28',46,'employee');
insert into manages values (55,56);
insert into employee values (57,29,'clarise 29',46,'manager');
insert into employee values (58,29,'ray ray 29',46,'employee');
insert into manages values (57,58);
insert into employee values (59,30,'clarise 30',46,'manager');
insert into employee values (60,30,'ray ray 30',46,'employee');
insert into manages values (59,60);
insert into employee values (61,31,'clarise 31',46,'manager');
insert into employee values (62,31,'ray ray 31',46,'employee');
insert into manages values (61,62);
insert into employee values (63,32,'clarise 32',46,'manager');
insert into employee values (64,32,'ray ray 32',46,'employee');
insert into manages values (63,64);
insert into employee values (65,33,'clarise 33',46,'manager');
insert into employee values (66,33,'ray ray 33',46,'employee');
insert into manages values (65,66);
insert into employee values (67,34,'clarise 34',46,'manager');
insert into employee values (68,34,'ray ray 34',46,'employee');
insert into manages values (67,68);
insert into employee values (69,35,'clarise 35',46,'manager');
insert into employee values (70,35,'ray ray 35',46,'employee');
insert into manages values (69,70);
insert into employee values (71,36,'clarise 36',46,'manager');
insert into employee values (72,36,'ray ray 36',46,'employee');
insert into manages values (71,72);
insert into employee values (73,37,'clarise 37',46,'manager');
insert into employee values (74,37,'ray ray 37',46,'employee');
insert into manages values (73,74);
insert into employee values (75,38,'clarise 38',46,'manager');
insert into employee values (76,38,'ray ray 38',46,'employee');
insert into manages values (75,76);
insert into employee values (77,39,'clarise 39',46,'manager');
insert into employee values (78,39,'ray ray 39',46,'employee');
insert into manages values (77,78);
insert into employee values (79,40,'clarise 40',46,'manager');
insert into employee values (80,40,'ray ray 40',46,'employee');
insert into manages values (79,80);

CREATE TABLE customer (
    sin integer primary key,
    full_name character varying(100),
    address_id integer,
    registration_date character varying(15),
	foreign key(address_id) references address(address_id)
);


create table booking (

	c_sin int not null,
	room_id int not null,
	start_date varchar(15),
	end_date varchar(15),
	primary key(room_id,c_sin,start_date,end_date),
	foreign key(c_sin) references customer(sin) on delete cascade,
	foreign key(room_id) references room(room_id) on delete cascade
	
);

create table renting (

	c_sin int not null,
	e_sin int not null,
	room_id int not null,
	start_date varchar(15),
	end_date varchar(15),
	primary key(room_id,c_sin,e_sin,start_date,end_date),
	foreign key(c_sin) references customer(sin) on delete cascade,
	foreign key(e_sin) references employee(sin) on delete cascade
	
);


select distinct r.capacity, h.hotel_name, r.room_id 
from room r, hotel h, address ad 
left outer join booking b
on ((b.start_date between '2019-01-02' and '2019-01-03') 
		  or (b.end_date between '2019-01-02' and '2019-01-03'))
where r.hotel_id = h.hotel_id 
and ad.address_id = h.address_id
and r.capacity = 'single' 
and r.can_be_extended = 'no'
and (r.price >= 0 and  r.price <= 200)
and r.room_quality = 'fair'
and r.room_view = 'square' 
and ad.city = 'New York'

;


select r.capacity, h.hotel_name, r.room_id 
from room r, hotel h, address ad, booking b
where r.hotel_id = h.hotel_id 
and ad.address_id = h.address_id
and r.capacity = 'single' 
and r.can_be_extended = 'no'
and (r.price >= 0 and  r.price <= 200)
and r.room_quality = 'fair'
and r.room_view = 'square' 
and ad.city = 'New York'
and not ((b.start_date between '2019-01-02' and '2019-01-03') or (b.start_date between '2019-01-02' and '2019-01-03'))					
; 
insert into booking values(123123,1,'2019-01-01','2019-01-04');


create table archive_renting (

	c_sin int not null,
	e_sin int not null,
	room_id int not null,
	start_date varchar(15),
	end_date varchar(15),
	primary key(room_id,c_sin,e_sin,start_date,end_date)
	
);
create table archive_booking (

	c_sin int not null,
	room_id int not null,
	start_date varchar(15),
	end_date varchar(15),
	primary key(room_id,c_sin,start_date,end_date)
	
);


create function trigger1() returns trigger
Language plpgsql as
$$begin
update hotel_chain
set num_hotels = num_hotels + 1;
end;$$;

create trigger trigger2 after 
insert on hotel for each row
	execute procedure trigger1();
	
create function trigger3() returns trigger
Language plpgsql as
$$begin
update hotel
set num_rooms = num_rooms + 1;
end;$$;

create trigger trigger4 after 
insert on room for each row
	execute procedure trigger1();
	
	
	
insert into payment values ( default, paymentinfo, room_id, c_sin, e_sin )



